SELECT 
CCITEM, CCF064, ICDIV, ICCLS, J6PL09 AS MAP, J6LPRC AS MSRP, J6PL10 AS PL10, (IFQOH - IFQCM) AS AVAIL, IFMOKI, CCF002 
FROM R37MODSDTA/VINITMB 
LEFT OUTER JOIN R37MODSDTA/VINITEM ON IFITEM = ICITEM 
LEFT OUTER JOIN R37FILES/VINUDEF ON IFITEM = CCITEM 
LEFT OUTER JOIN R37FILES/VINPMAT ON IFCOMP = J6CMP AND IFLOC = J6LOC AND CCITEM = J6ITEM 
WHERE IFCOMP = '2' OR IFCOMP = '1' AND IFLOC NOT LIKE '2' AND IFLOC NOT LIKE '1Z' AND IFLOC NOT LIKE '8S' AND IFLOC NOT LIKE '1VRM' AND IFLOC NOT LIKE '4R' AND IFITEM NOT LIKE '+%' AND IFITEM NOT LIKE '*%' AND IFITEM NOT LIKE '#%' AND IFDEL NOT LIKE 'D' AND IFDEL NOT LIKE 'I' GROUP BY CCITEM, CCF064, ICDIV, ICCLS, J6PL09, J6LPRC, J6PL10, IFQOH, IFQCM, IFMOKI, CCF002 FETCH FIRST 50 ROWS ONLY


SELECT IFITEM, IFQOH 
FROM (
	SELECT IFITEM, IFQOH, row_number() OVER (PARTITION BY IFITEM ORDER BY IFITEM) AS seqnum 
	FROM R37MODSDTA/VINITMB 
	WHERE (
		(IFDEL = 'I' AND IFQOH > 2) 
		OR (IFDEL != 'I')
	) 
	AND IFCOMP != '5' 
	AND (IFLOC = '1' OR IFLOC = '1Z' OR IFLOC = '3' OR IFLOC = '4' OR IFLOC = '5' OR IFLOC = '3Z' OR IFLOC = '7S' OR IFLOC = '8' OR IFLOC = '8S') 
	GROUP BY IFITEM, IFQOH
) t 
WHERE (seqnum = 1) ORDER BY IFITEM


SELECT IFITEM 
FROM R37MODSDTA/VINITMB 
JOIN R37MODSDTA/VIOSELLCRA ON IFITEM = ITITEM 
WHERE 
(
	(IFDEL = 'I' AND IFQOH < 3) 
	OR 
	(IFDEL = 'N') 
	OR 
	(IFQOH < 2 AND IFLOD < '20141231')
) 
AND 
(IFCOMP != '5' OR IFCOMP != '2') 
AND 
(IFLOC = '1' OR IFLOC = '4' OR IFLOC = '8') 
GROUP BY IFITEM 
ORDER BY IFITEM